/*Plus Cross Copy Paste*/(function(){function j(a){return a.forEach(function(a){a.id=elementorCommon.helpers.getUniqueId(),0<a.elements.length&&j(a.elements)}),a}function f(k,h){var a=h,b=h.model.get("elType"),c=k.tpelecode.elType,d=k.tpelecode,e=JSON.stringify(d);console.log(e);var f=/\.(jpg|png|jpeg|gif|svg)/gi.test(e),g={elType:c,settings:d.settings},l=null,m={index:0};"section"===c||"container"===c?(g.elements=j(d.elements),l=elementor.getPreviewContainer()):"column"===c?(g.elements=j(d.elements),"section"===b||"container"===b?l=a.getContainer():"column"===b?(l=a.getContainer().parent,m.index=a.getOption("_index")+1):"widget"===b?(l=a.getContainer().parent.parent,m.index=a.getContainer().parent.view.getOption("_index")+1):void 0):"widget"===c?(g.widgetType=k.tpeletype,l=a.getContainer(),"section"===b||"container"===b?l=a.children.findByIndex(0).getContainer():"column"===b?l=a.getContainer():"widget"===b?(l=a.getContainer().parent,b.index=a.getOption("_index")+1,m.index=a.getOption("_index")+1):void 0):void 0;var n=$e.run("document/elements/create",{model:g,container:l,options:m});f&&jQuery.ajax({url:theplus_cross_cp.ajax_url,method:"POST",data:{nonce:theplus_cross_cp.nonce,action:"plus_cross_cp_import",copy_content:e}}).done(function(a){if(a.success){var b=a.data[0];g.elType=b.elType,g.settings=b.settings,"widget"===g.elType?g.widgetType=b.widgetType:g.elements=b.elements,$e.run("document/elements/delete",{container:n}),$e.run("document/elements/create",{model:g,container:l,options:m})}})}xdLocalStorage.init({iframeUrl:"https://posimyththemes.com/tpcp/",initCallback:function(){}});var g=["section","column","widget","container"],a=[];elementor.on("preview:loaded",function(){g.forEach(function(b,e){elementor.hooks.addFilter("elements/"+g[e]+"/contextMenuGroups",function(b,h){return a.push(h),b.push({name:"plus_"+g[e],actions:[{name:"tp_plus_copy",title:"Plus Copy",icon:"eicon-copy",callback:function(){var b={};b.tpeletype="widget"==g[e]?h.model.get("widgetType"):null,b.tpelecode=h.model.toJSON(),xdLocalStorage.setItem("theplus-c-p-element",JSON.stringify(b)),console.log(b)}},{name:"tp_plus_paste",title:"Plus Paste",icon:"eicon-import-kit",callback:function(){xdLocalStorage.getItem("theplus-c-p-element",function(a){f(JSON.parse(a.value),h)})}}]}),b})})})})(jQuery);