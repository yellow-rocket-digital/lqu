(function(a){"use strict";var b=function(a,b){var c=a.find(".tp-social-reviews");c.each(function(){var a=b(this),c=a.data("id"),d=a.data("scroll-normal"),e=a.data("textlimit");if(!0==d.ScrollOn&&!1==d.TextLimit){let c=a.find(".showtext");c.each(function(){b(this)[0].clientHeight>=d.Height&&(b(this).addClass(d.className),b(this).css("height",d.Height))})}b(document).on("click","."+c+".tp-social-reviews .readbtn",function(){var a=b(this).closest(".tp-message"),c=a.closest(".list-isotope .post-inner-loop"),d=a.closest(".tp-social-reviews").data("scroll-normal"),f=a.find(".showtext");if(a.hasClass("show-text"))a.removeClass("show-text show-less"),b(this).html(e.showmoretxt),a.find(".sf-dots").css("display","inline"),!0==d.ScrollOn&&!0==d.TextLimit&&(f.removeClass(d.className),f.removeAttr("style"));else{a.addClass("show-text show-less"),b(this).html(e.showlesstxt),a.find(".sf-dots").css("display","none");let c=b(".tp-social-reviews").find(f);!0==d.ScrollOn&&!0==d.TextLimit&&c.each(function(){b(this)[0].clientHeight>=d.Height&&(f.addClass(d.className),f.css("height",d.Height))})}c.isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"})}),b("."+c).on("click",".batch-btn-no",function(a){a.preventDefault(),this.closest(".tp-batch-recommend").style.display="none"});var f=0;if(0<b("."+c+".tp-social-reviews").find(".ajax_load_more").length&&b("."+c+" .post-load-more").on("click",function(a){a.preventDefault();var c=b(this),d=c.data("loadattr"),e=c.data("loadview"),g=c.data("loadclass"),h=c.data("layout"),i=c.data("loadingtxt"),j=c.text();c.data("requestRunning")||(c.data("requestRunning",!0),b.ajax({type:"POST",data:"action=tp_reviews_load&view="+f+"&feedshow="+e+"&loadattr="+d,url:theplus_ajax_url,beforeSend:function(){b(c).text(i)},success:function(a){let d=JSON.parse(a),i=d&&d.HTMLContent?d.HTMLContent:"",k=d&&d.TotalReview?d.TotalReview:"",l=d&&d.FilterStyle?d.FilterStyle:"",m=d&&d.allposttext?d.allposttext:"";if(""==d)b(c).addClass("hide");else{let a="."+g,d=b(a+" .all .all_post_count"),e=b(a+" .post-inner-loop");e.append(i);let f=b(a).find(".grid-item").length;if(b(d).html("").append(f),"style-2"==l||"style-3"==l){let c=b(a+" .category-filters li .filter-category-list").not(".all");b.each(c,function(c,d){let e=b(d).find("span:nth-child(2)").data("hover"),f=b(a).find(".grid-item."+e).length;b(d).find("span:nth-child(1).all_post_count").html("").append(f)})}("grid"==h||"masonry"==h)&&b(a).hasClass("list-isotope")&&b(e).isotope("layout").isotope("reloadItems"),f>=k?(b(c).addClass("hide"),b(c).parent(".ajax_load_more").append("<div class=\"plus-all-posts-loaded\">"+m+"</div>")):b(c).text(j)}f+=e},complete:function(){c.data("requestRunning",!1)}}).then(function(){if(b("."+g).hasClass("list-isotope")&&("grid"==h||"masonry"==h)){var a=b("."+g+" .post-inner-loop");a.isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"})}}))}),b("body").find("."+c+" .ajax_lazy_load").length){var g,h,j,k,l,m,n=b(window),o=function(){g=n.width(),h=n.height(),j=b("body").height(),l=b("."+c+".list-isotope").height(),m=b("."+c+".list-isotope").offset().top+50,setTimeout(function(){l=b("."+c+".list-isotope").height(),m=b("."+c+".list-isotope").offset().top+50},50)};o(),n.resize(o),n.bind("scroll",function(a){a.preventDefault(),o(),k=n.scrollTop(),b("."+c+".list-isotope").each(function(){if(l=b(this).height(),m=b(this).offset().top+50,b(this).find(".post-lazy-load").length&&k<j&&k+60>l+m-h){var a=b(this).find(".post-lazy-load"),c=a.data("lazyattr"),d=a.data("lazyview"),e=a.data("lazyclass"),g=a.data("lazylayout"),i=a.data("loadingtxt"),o=a.text();if(a.data("requestRunning"))return;a.data("requestRunning",!0),b.ajax({type:"POST",data:"action=tp_reviews_load&view="+f+"&feedshow="+d+"&loadattr="+c,url:theplus_ajax_url,beforeSend:function(){b(a).text(i)},success:function(c){let h=JSON.parse(c),i=h&&h.HTMLContent?h.HTMLContent:"",j=h&&h.TotalReview?h.TotalReview:"",k=h&&h.FilterStyle?h.FilterStyle:"",l=h&&h.allposttext?h.allposttext:"";if(""==h)b(loadFeed_click).addClass("hide");else{let c="."+e,d=b(c+" .all .all_post_count"),f=b(c+" .post-inner-loop");f.append(i);let h=b(c).find(".grid-item").length;if(b(d).html("").append(h),"style-2"==k||"style-3"==k){let a=b(c+" .category-filters li .filter-category-list").not(".all");b.each(a,function(a,d){let e=b(d).find("span:nth-child(2)").data("hover"),f=b(c).find(".grid-item."+e).length;b(d).find("span:nth-child(1).all_post_count").html("").append(f)})}("grid"==g||"masonry"==g)&&b(c).hasClass("list-isotope")&&b(f).isotope("layout").isotope("reloadItems"),h>=j?(b(a).addClass("hide"),b(a).parent(".ajax_load_more").append("<div class=\"plus-all-posts-loaded\">"+l+"</div>"),n.unbind("scroll")):b(a).html("<div class=\"tp-spin-ring\"><div></div><div></div><div></div></div>")}f+=d},complete:function(){a.data("requestRunning",!1)}}).then(function(){if(b("."+e).hasClass("list-isotope")&&("grid"==g||"masonry"==g)){let a=b("."+e+" .post-inner-loop");a.isotope({itemSelector:".grid-item",resizable:!0,sortBy:"original-order"})}})}})})}b(".tp-social-reviews .tp-SR-copy-icon").unbind().click(function(){let a=this,b=document.createElement("textarea");b.value=a.dataset.copypostid,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),a.innerHTML="<svg version=\"1.1\" id=\"L9\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 100 100\" enable-background=\"new 0 0 0 0\" xml:space=\"preserve\" ><path fill=\"#fff\" d=\"M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50\"><animateTransform attributeName=\"transform\" attributeType=\"XML\" type=\"rotate\" dur=\"1s\" from=\"0 50 50\" to=\"360 50 50\" repeatCount=\"indefinite\" /></path></svg>",setTimeout(function(){a.innerHTML="<i class=\"far fa-copy CopyLoading\"></i>"},500)})})};a(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/tp-social-reviews.default",b)})})(jQuery);