!function(t){var e={};function a(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=8)}([function(t,e){t.exports=function(t,e,a,n,s,r){var i,o=t=t||{},d=typeof t.default;"object"!==d&&"function"!==d||(i=t,o=t.default);var c,p="function"==typeof o?o.options:o;if(e&&(p.render=e.render,p.staticRenderFns=e.staticRenderFns,p._compiled=!0),a&&(p.functional=!0),s&&(p._scopeId=s),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},p._ssrRegister=c):n&&(c=n),c){var l=p.functional,u=l?p.render:p.beforeCreate;l?(p._injectStyles=c,p.render=function(t,e){return c.call(e),u(t,e)}):p.beforeCreate=u?[].concat(u,c):[c]}return{esModule:i,exports:o,options:p}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{abort:!1}},methods:{removeLink:function(t){var e={url:this.base_url+"pm-pro/v2/projects/"+this.project_id+"/gantt/"+t+"/delete",type:"POST",data:{},success:function(t){},error:function(t){t.responseJSON.message.forEach(function(t,e){pm.Toastr.error(t)})}};this.httpRequest(e)},saveLink:function(t){var e={url:this.base_url+"pm-pro/v2/projects/"+this.project_id+"/gantt",type:"POST",data:t,success:function(t){},error:function(t){t.responseJSON.message.forEach(function(t,e){pm.Toastr.error(t)})}};this.httpRequest(e)},updateList:function(t){var e=this.getIndex(this.$store.state.gantt.ganttLists,t.list_id,"id"),a=this.$store.state.gantt.ganttLists[e];this.$store.commit("gantt/setUpdateList",a),this.listFormActivity(!0)},updateGanttTask:function(t){var e=this.getIndex(this.$store.state.gantt.ganttLists,t.list_id,"id"),a=this.getIndex(this.$store.state.gantt.ganttLists[e].incomplete_tasks.data,t.id,"id");t=this.$store.state.gantt.ganttLists[e].incomplete_tasks.data[a];this.$store.commit("gantt/setUpdateTask",t),this.taskFormActivity(!0),this.setNewTask(!1)},updateTask:function(t){var e=pm.Moment(t.end_date).subtract(1,"days"),a={url:this.base_url+"pm/v2/projects/"+this.project_id+"/tasks/"+t.id+"/update",type:"POST",data:{title:t.text,start_at:pm.Moment(t.start_date).format("YYYY-MM-DD"),due_date:pm.Moment(e).format("YYYY-MM-DD")},success:function(t){pm.NProgress.done()},error:function(t){}};this.httpRequest(a)},getLists:function(t){var e=this,a={condition:{with:"incomplete_tasks,complete_tasks",per_page:1e3,page:this.setCurrentPageNumber()},callback:!1},n=(t=jQuery.extend(!0,a,t),this.generateConditions(t.condition)),s={url:e.base_url+"pm/v2/projects/"+e.project_id+"/task-lists?"+n,success:function(a){var n=e.filterTasks(a.data,!0),s=e.filterLinks(a.data);e.$store.commit("gantt/setList",a.data),e.$store.commit("gantt/setTasks",n),e.$store.commit("gantt/setLinks",s),pm.NProgress.done(),"function"==typeof t.callback&&t.callback(e,a)}};e.httpRequest(s)},generatePassword:function(){for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e="",a=0,n=t.length;a<15;++a)e+=t.charAt(Math.floor(Math.random()*n));return e},filterTasks:function(t,e){var a=this,n=[];if(e=e||!1){var s="",r="";void 0!==this.$store.state.project.meta&&this.$store.state.project.meta.data.total_task_lists<1&&(s=this.$store.state.project.created_at.date,s=new Date(s),s=pm.Moment(s).format("DD-MM-YYYY"),r=1),n.push({id:this.project_id+"-project",text:this.$store.state.project.title,start_date:s,duration:r,progress:0,open:!0,type:"project",group:"Project",action:"Add",project_id:this.project_id})}return t.forEach(function(t){var e=t.incomplete_tasks.data.length,s=t.complete_tasks.data.length,r="",i="";e||s||(r=t.created_at.date,r=new Date(r),r=pm.Moment(r).format("DD-MM-YYYY"),i=1),n.push({id:t.id+"-list",text:t.title,start_date:r,duration:i,progress:"",parent:a.project_id+"-project",open:!0,type:"list",group:"List",new_event:"Add",list_id:t.id}),t.incomplete_tasks.data.forEach(function(e){var a=e.start_at.date?e.start_at.date:e.created_at.date,s=e.due_date.date?e.due_date.date:a,r=new Date(a),i=new Date(s);i=pm.Moment(i,"DD-MM-YYYY").add(1,"days"),n.push({id:e.id,text:e.title,start_date:pm.Moment(r).format("DD-MM-YYYY"),end_date:i._d,progress:0,parent:t.id+"-list",list_id:e.task_list_id,open:!0,priority:3,type:"task",group:"Task",new_event:""})}),t.complete_tasks.data.forEach(function(e){var s=e.start_at.date?e.start_at.date:e.created_at.date,r=new Date(s);n.push({id:e.id,text:e.title,start_date:pm.Moment(r).format("DD-MM-YYYY"),duration:a.getDuration(e),progress:0,parent:t.id+"-task",list_id:e.task_list_id,open:!0,priority:3,type:"complete_task",group:"Task",new_event:""})})}),n},getDuration:function(t){var e=t.start_at.date?t.start_at.date:t.created_at.date,a=t.due_date.date?t.due_date.date:e,n=pm.Moment(new Date(e)),s=pm.Moment(new Date(a)),r=pm.Moment.duration(s.diff(n)).asDays();return parseInt(r)+1},filterLinks:function(t){var e=[];return t.forEach(function(t){t.incomplete_tasks.data.forEach(function(t){t.gantt_links.data.forEach(function(t){e.push({id:t.id,source:t.source,target:t.target,type:t.type})})})}),e},listFormActivity:function(t){this.$store.commit("gantt/changeListFormStatus",t)},taskFormActivity:function(t){this.$store.commit("gantt/changeTaskFormStatus",t)},setListId:function(t){this.$store.commit("gantt/setListId",t)},setNewTask:function(t){this.$store.commit("gantt/setNewTask",t)},createList:function(t){this.listFormActivity(!0)},createTask:function(t){this.setListId(t),this.taskFormActivity(!0),this.setNewTask(!0)}}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=function(t,e){var a=t[1]||"",n=t[3];if(!n)return a;if(e&&"function"==typeof btoa){var s=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n),r=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[a].concat(r).concat([s]).join("\n")}return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},s=0;s<this.length;s++){var r=this[s][0];"number"==typeof r&&(n[r]=!0)}for(s=0;s<t.length;s++){var i=t[s];"number"==typeof i[0]&&n[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),e.push(i))}},e}},function(t,e,a){var n="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!n)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s=a(14),r={},i=n&&(document.head||document.getElementsByTagName("head")[0]),o=null,d=0,c=!1,p=function(){},l=null,u="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t){for(var e=0;e<t.length;e++){var a=t[e],n=r[a.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](a.parts[s]);for(;s<a.parts.length;s++)n.parts.push(_(a.parts[s]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var i=[];for(s=0;s<a.parts.length;s++)i.push(_(a.parts[s]));r[a.id]={id:a.id,refs:1,parts:i}}}}function g(){var t=document.createElement("style");return t.type="text/css",i.appendChild(t),t}function _(t){var e,a,n=document.querySelector("style["+u+'~="'+t.id+'"]');if(n){if(c)return p;n.parentNode.removeChild(n)}if(m){var s=d++;n=o||(o=g()),e=v.bind(null,n,s,!1),a=v.bind(null,n,s,!0)}else n=g(),e=function(t,e){var a=e.css,n=e.media,s=e.sourceMap;n&&t.setAttribute("media",n);l.ssrId&&t.setAttribute(u,e.id);s&&(a+="\n/*# sourceURL="+s.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */");if(t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,n),a=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else a()}}t.exports=function(t,e,a,n){c=a,l=n||{};var i=s(t,e);return f(i),function(e){for(var a=[],n=0;n<i.length;n++){var o=i[n];(d=r[o.id]).refs--,a.push(d)}e?f(i=s(t,e)):i=[];for(n=0;n<a.length;n++){var d;if(0===(d=a[n]).refs){for(var c=0;c<d.parts.length;c++)d.parts[c]();delete r[d.id]}}}};var h=function(){var t=[];return function(e,a){return t[e]=a,t.filter(Boolean).join("\n")}}();function v(t,e,a,n){var s=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=h(e,s);else{var r=document.createTextNode(s),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(r,i[e]):t.appendChild(r)}}},function(t,e,a){"use strict";var n=a(15),s=a(19),r=a(1),i=a.n(r);e.a={beforeRouteEnter:function(t,e,a){a(function(t){})},mixins:[i.a],data:function(){return{loading:!0,taskFormSubmit:!1}},created:function(){var t=this;t.getGlobalMilestones(),pmBus.$on("pm_after_create_list",this.afterCreateList),pmBus.$on("pm_after_create_task",this.afterCreateTask),pmBus.$on("pm_after_update_list",this.afterUpdateList),pmBus.$on("pm_after_update_task",this.afterUpdateTask),pmBus.$on("pm_after_fetch_project",this.selfGetLists),"gantt"==this.$route.name&&pm_add_filter("before_task_save",function(e){return void 0!==t.$store.state.gantt&&(e.board_id=t.$store.state.gantt.list_id),e})},destroyed:function(){pm_remove_filter("before_task_save","")},components:{"list-form":n.a,"task-form":s.a},computed:{project:function(){var t=this.$store.state.project;return!_.isEmpty(t)&&t},tasks:function(){return this.$store.state.gantt.tasks.length?this.$store.state.gantt.tasks:[]},links:function(){return this.$store.state.gantt.links},isActiveListForm:function(){return this.$store.state.gantt.isActiveListForm},isActiveTaskForm:function(){return this.$store.state.gantt.isActiveTaskForm},updatedList:function(){return this.$store.state.gantt.updatedList}},methods:{selfGetLists:function(){var t=this;this.getLists({callback:function(){t.loading=!1}})},afterUpdateList:function(t){this.ganttAddListMeta(t.data),this.$store.commit("gantt/afterUpdateList",t.data),gantt.getTask(t.data.list_id+"-list").text=t.data.title,this.listFormActivity(!1)},afterUpdateTask:function(t){this.taskFormSubmit=!0,this.$store.commit("gantt/afterUpdateTask",t.data);var e=t.data.start_at.date?t.data.start_at.date:t.data.created_at.date,a=t.data.due_date.date?t.data.due_date.date:e,n=new Date(e),s=new Date(a);s.setDate(s.getDate()+1),gantt.getTask(t.data.id).text=t.data.title,gantt.getTask(t.data.id).start_date=n,gantt.getTask(t.data.id).end_date=s,gantt.updateTask(t.data.id),this.taskFormActivity(!1)},afterCreateList:function(t){this.ganttAddListMeta(t.data),this.$store.commit("gantt/afterCreateNewList",t.data);gantt.$data.tasksStore.pull;var e="",a="";t.data.incomplete_tasks.data.length||(e=t.data.created_at.date,e=new Date(e),e=pm.Moment(e).format("DD-MM-YYYY"),a=1),this.listFormActivity(!1);var n={id:t.data.id+"-list",text:t.data.title,start_date:e,duration:a,progress:0,open:!0,action:"Add",parent:this.project_id+"-project",type:"list",group:"List",new_event:"Add",list_id:t.data.id};gantt.addTask(n,this.project_id+"-project",0)},ganttAddListMeta:function(t){t.list_id=t.id,void 0===t.incomplete_tasks&&(t.incomplete_tasks=[])},afterCreateTask:function(t,e){if("gantt"==this.$route.name){this.$store.commit("gantt/afterCreateTask",{listId:t.data.task_list.data.id,task:t.data});var a=t.data.start_at.date?t.data.start_at.date:t.data.created_at.date,n=t.data.due_date.date?t.data.due_date.date:a,s=new Date(a),r=new Date(n);r=pm.Moment(r,"DD-MM-YYYY").add(1,"days"),this.taskFormActivity(!1);var i={id:t.data.id,index:1,text:t.data.title,start_date:pm.Moment(s).format("DD-MM-YYYY"),end_date:r._d,progress:0,open:!0,type:"task",group:"Task",parent:t.data.task_list.data.id+"-list",list_id:t.data.task_list.data.id};gantt.addTask(i),this.setListId(!1)}}}}},function(t,e,a){"use strict";var n=a(1),s=a.n(n);e.a={props:{list:{type:[Object],default:function(){return{}}}},mixins:[s.a],methods:{hasList:function(t){return!!t.hasOwnProperty("id")},deleteList:function(t){var e=this,a={url:e.base_url+"pm/v2/projects/"+e.project_id+"/task-lists/"+t.id,type:"DELETE",data:{},success:function(a){gantt.deleteTask(t.id+"-list"),e.$store.commit("gantt/deleteTask",t.id),e.listFormActivity(!1)},error:function(t){t.responseJSON.message.forEach(function(t,e){pm.Toastr.error(t)})}};e.httpRequest(a)}}}},function(t,e,a){"use strict";var n=a(1),s=a.n(n);e.a={mixins:[s.a],props:{task:{type:[Object],default:function(){return{}}}},computed:{isNewTask:function(){return this.$store.state.gantt.newTask},updateTask:{get:function(){return this.$store.state.gantt.updatedTask},set:function(){}},list:function(){return{id:this.$store.state.gantt.list_id}},tasks:function(){return this.$store.state.gantt.tasks.length?this.$store.state.gantt.tasks:[]}},methods:{hasTask:function(t){return!!t.hasOwnProperty("id")},deleteTask:function(t){var e=this,a={url:e.base_url+"pm/v2/projects/"+e.project_id+"/tasks/"+t.id+"/delete",type:"POST",data:{},success:function(a){gantt.deleteTask(t.id),e.$store.commit("gantt/afterDeleteTask",{task:t,list:t.task_list.data}),e.taskFormActivity(!1)},error:function(t){t.responseJSON.message.forEach(function(t,e){pm.Toastr.error(t)})}};e.httpRequest(a)}}}},function(t,e,a){"use strict";var n=a(1),s=a.n(n);e.a={props:{actionData:{type:[Array,Object],default:function(){return[]}}},mixins:[s.a],watch:{actionData:function(t){}},methods:{setActiveMenu:function(t){if(this.$route.name==t)return"active"}}}},function(t,e,a){"use strict";a.p=PM_Pro_Vars.dir_url+"modules/Gantt/views/assets/js/",a(9)},function(t,e,a){"use strict";s(a(10)),s(a(24));var n=s(a(25));function s(t){return t&&t.__esModule?t:{default:t}}weDevs_PM_Components.push({hook:"pm-header-menu",component:"gantt-tab-menu",property:n.default})},function(t,e,a){"use strict";var n=function(t){return t&&t.__esModule?t:{default:t}}(a(11));weDevsPmProAddonRegisterModule("gantt","Gantt"),weDevsPMRegisterChildrenRoute("project_root",[{path:":project_id/gantt/",component:n.default,name:"gantt"}]),pm_add_filter("pm-project-menu",function(t){return t.push({route:{name:"gantt"},name:__("Gantt Chart","pm-pro"),count:"",class:"logo icon-pm-gantchart",order:4}),t})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(4),s=a(23);var r=function(t){a(12)},i=a(0)(n.a,s.a,!1,r,null,null);e.default=i.exports},function(t,e,a){var n=a(13);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(3)("2adf977f",n,!0,{})},function(t,e,a){(t.exports=a(2)(!1)).push([t.i,'.pm-gantt-wrap{margin-top:10px}#pm-gantt{width:100%;height:calc(100vh - 280px)}.gantt_task_line.pm-pro-gantt-project{background:#9b59b6!important;font-weight:800;border:none}.gantt_task_line.pm-pro-gantt-list{background:#00aeff;font-weight:600;border:none}.gantt_task_line.pm-pro-gantt-task{background:#2ecc71;border:none}.pm-pro-gantt-task .gantt_task_progress{background:#1abc9c}.pmpro-gantt-add-new-btn{color:#a7a7a6;cursor:pointer;padding:8px}.pmpro-gantt-add-new-btn:hover{color:#454545}.pm-pro-gantt-complete-task{background:#6a67ce;border:none}.grunt-color-plate{margin:0 5px 8px 0;float:right;clear:both;display:block;overflow:hidden;font-weight:600}.grunt-color-plate p{display:inline-block;margin:0;padding:0}.grunt-color-plate p:before{content:"";margin:0 5px;width:44px;height:18px;display:inline-block;vertical-align:middle}.grunt-color-plate p.project-color:before{background:#9b59b6}.grunt-color-plate p.task-list-color:before{background:#00aeff}.grunt-color-plate p.task-color:before{background:#2ecc71}',""])},function(t,e){t.exports=function(t,e){for(var a=[],n={},s=0;s<e.length;s++){var r=e[s],i=r[0],o={id:t+":"+s,css:r[1],media:r[2],sourceMap:r[3]};n[i]?n[i].parts.push(o):a.push(n[i]={id:i,parts:[o]})}return a}},function(t,e,a){"use strict";var n=a(5),s=a(18);var r=function(t){a(16)},i=a(0)(n.a,s.a,!1,r,null,null);e.a=i.exports},function(t,e,a){var n=a(17);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(3)("5f975168",n,!0,{})},function(t,e,a){(t.exports=a(2)(!1)).push([t.i,".pm-pro-new-list-modal-content .list-cancel{display:none}.pm-pro-new-list-modal-content .pm-new-todolist-form,.pm-pro-new-list-modal-content .pm-update-todolist-form{border:none;margin:0;padding:0}.pm-pro-new-list-modal-content .pm-new-todolist-form{width:100%}.pm-modal-conetnt{position:relative}.pm-modal-conetnt .del-btn{position:absolute;bottom:5px;left:15%}",""])},function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-mask pm-task-modal modal-transition"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container",staticStyle:{width:"700px"}},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"pm-right close-vue-modal"},[a("a",{on:{click:function(e){return e.preventDefault(),t.listFormActivity(!1)}}},[a("span",{staticClass:"dashicons dashicons-no"})])]),t._v(" "),t.list.id?a("h3",[t._v(t._s(t.__("Edit Task List","pm-pro")))]):a("h3",[t._v(t._s(t.__("New Task List","pm-pro")))])]),t._v(" "),a("div",{staticClass:"modal-body pm-todolist"},[a("div",{staticClass:"pm-col-12 pm-todo"},[a("div",{staticClass:"pm-modal-conetnt pm-pro-new-list-modal-content"},[a("pm-new-list-form",{attrs:{list:t.list}}),t._v(" "),t.hasList(t.list)?a("a",{staticClass:"button button-secondary del-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteList(t.list)}}},[t._v(t._s(t.__("Delete","pm-pro")))]):t._e()],1),t._v(" "),a("div",{staticClass:"clearfix"})])]),t._v(" "),a("div",{staticClass:"clearfix"})])])])},staticRenderFns:[]};e.a=n},function(t,e,a){"use strict";var n=a(6),s=a(22);var r=function(t){a(20)},i=a(0)(n.a,s.a,!1,r,null,null);e.a=i.exports},function(t,e,a){var n=a(21);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(3)("3ec2f11c",n,!0,{})},function(t,e,a){(t.exports=a(2)(!1)).push([t.i,".pm-pro-new-task-modal-content .list-cancel,.pm-pro-new-task-modal-content .todo-cancel{display:none}.pm-pro-new-task-modal-content .task-title{margin-bottom:10px}.pm-pro-new-task-modal-content .content textarea,.pm-pro-new-task-modal-content .task-title input{width:100%;padding:10px}.pm-pro-new-task-modal-content .multiselect .multiselect__tags{border-radius:0!important}.pm-pro-new-task-modal-content .multiselect{width:100%}.pm-pro-new-task-modal-content .content textarea{height:90px}.pm-pro-new-task-modal-content .content{margin-bottom:5px}.pm-pro-new-task-modal-content .submit{padding:9px 0 0}.pm-pro-new-list-modal-content .pm-new-todolist-form{width:100%}.pm-modal-conetnt{position:relative}.pm-modal-conetnt .del-btn{position:absolute;bottom:38px;left:16%}.pm-pro-new-task-modal-content .pm-datepickter-from.hasDatepicker,.pm-pro-new-task-modal-content .pm-datepickter-to.hasDatepicker{width:100%;margin-bottom:10px;padding:10px!important}.pm-pro-new-task-modal-content .pm-make-privacy{margin:10px 5px}",""])},function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-mask pm-task-modal modal-transition"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container",staticStyle:{width:"700px"}},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"pm-right close-vue-modal"},[a("a",{on:{click:function(e){return e.preventDefault(),t.taskFormActivity(!1)}}},[a("span",{staticClass:"dashicons dashicons-no"})])]),t._v(" "),t.isNewTask?a("h3",[t._v(t._s(t.__("New Task","pm-pro")))]):a("h3",[t._v(t._s(t.__("Edit Task","pm-pro")))])]),t._v(" "),a("div",{staticClass:"modal-body pm-todolist"},[a("div",{staticClass:"pm-col-12 pm-todo"},[a("div",{staticClass:"pm-modal-conetnt pm-pro-new-task-modal-content"},[t.isNewTask?a("pm-new-task-form",{attrs:{list:t.list}}):t._e(),t._v(" "),t.isNewTask?t._e():a("pm-new-task-form",{attrs:{list:t.list,task:t.updateTask}}),t._v(" "),t.isNewTask?t._e():a("a",{staticClass:"button button-secondary del-btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.deleteTask(t.updateTask)}}},[t._v(t._s(t.__("Delete","pm-pro")))])],1),t._v(" "),a("div",{staticClass:"clearfix"})])]),t._v(" "),a("div",{staticClass:"clearfix"})])])])},staticRenderFns:[]};e.a=n},function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pm-wrap pm pm-front-end"},[a("pm-header"),t._v(" "),a("pm-heder-menu"),t._v(" "),t.loading?a("div",{staticClass:"pm-data-load-before"},[t._m(0)]):t._e(),t._v(" "),t.project?a("div",{staticClass:"pm-gantt-wrap"},[a("div",{staticClass:"grunt-color-plate"},[a("p",{staticClass:"project-color"},[t._v(t._s(t.__("Project","pm-pro")))]),t._v(" "),a("p",{staticClass:"task-list-color"},[t._v(t._s(t.__("Task List","pm-pro")))]),t._v(" "),a("p",{staticClass:"task-color"},[t._v(t._s(t.__("Task","pm-pro")))])]),t._v(" "),a("div",{staticClass:"clear"}),t._v(" "),t.loading?t._e():a("div",{staticClass:"pm-gantt-containter"},[a("div",{directives:[{name:"pm-gantt",rawName:"v-pm-gantt"}],attrs:{id:"pm-gantt"}})]),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.isActiveListForm?a("list-form",{attrs:{list:t.updatedList}}):t._e()],1),t._v(" "),a("transition",{attrs:{name:"modal"}},[t.isActiveTaskForm?a("task-form"):t._e()],1)],1):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loadmoreanimation"},[e("div",{staticClass:"load-spinner"},[e("div",{staticClass:"rect1"}),this._v(" "),e("div",{staticClass:"rect2"}),this._v(" "),e("div",{staticClass:"rect3"}),this._v(" "),e("div",{staticClass:"rect4"}),this._v(" "),e("div",{staticClass:"rect5"})])])}]};e.a=n},function(t,e,a){"use strict";var n=!1,s={showingTaskForm:!1,init:function(t,e,a){var r=a.context;jQuery(".pm-gantt-containter").on("click",".pmpro-gantt-new-project",{vmEl:t,vmBinging:e,vm:a},this.newProject),jQuery(".pm-gantt-containter").on("click",".pmpro-gantt-new-task",{vmEl:t,vmBinging:e,vm:a},this.newTask);var i={data:a.context.tasks,links:a.context.links};gantt.config.columns=[{name:"text",label:r.__("Title","pm-pro"),tree:!0,width:120},{name:"start_date",label:r.__("Start time","pm-pro"),align:"center",resize:!0},{name:"group",label:r.__("Group","pm-pro"),align:"center"},{name:"action",label:r.__("Action","pm-pro"),align:"center",template:function(t){return"project"==t.type&&r.user_can("create_list")?'<i class="fa  pmpro-gantt-add-new-btn pmpro-gantt-new-project fa-plus" aria-hidden="true"></i>':"list"==t.type&&r.user_can("create_task")?'<i data-list_id="'+t.list_id+'" class="fa pmpro-gantt-add-new-btn pmpro-gantt-new-task fa-plus" aria-hidden="true"></i>':""}}],gantt.templates.task_class=function(t,e,a){switch(a.type){case"project":return"pm-pro-gantt-project";case"list":return"pm-pro-gantt-list";case"complete_task":return"pm-pro-gantt-complete-task";default:return"pm-pro-gantt-task"}};var o="";(o=-1!=PM_Vars.locale.indexOf("_")?PM_Vars.locale.substr(0,PM_Vars.locale.indexOf("_")):PM_Vars.locale)||(o="en"),gantt.config.work_time=!0,gantt.config.skip_off_time=!0,gantt.config.drag_progress=!1,gantt.config.scale_offset_minimal=!1,gantt.config.scale_unit="month",gantt.config.date_scale="%F, %Y",gantt.i18n.setLocale(o),gantt.config.subscales=[{unit:"day",step:1,date:"%j, %D"}],gantt.init(t),gantt.clearAll(),gantt.parse(i),gantt.attachEvent("onBeforeLinkAdd",function(t,e){var n=s.linkValidation(e,a);return n&&a.context.saveLink(e),n}),gantt.attachEvent("onBeforeTaskChanged",function(t,e,n){var r=[];return n.$source.forEach(function(t){var e=gantt.$data.linksStore.pull[t],n=s.linkValidation(e,a);r.push(n)}),n.$target.forEach(function(t){var e=gantt.$data.linksStore.pull[t],n=s.linkValidation(e,a);r.push(n)}),-1==r.indexOf(!1)}),gantt.attachEvent("onAfterTaskUpdate",function(t,e){a.context.taskFormSubmit||a.context.updateTask(e)}),gantt.attachEvent("onAfterLinkDelete",function(t,e){a.context.removeLink(t)}),gantt.attachEvent("onBeforeLightbox",function(t){var e=gantt.$data.tasksStore.pull[t];return"list"==e.type&&(n?n=!1:a.context.updateList(e)),"task"==e.type&&a.context.updateGanttTask(e),!1})},newProject:function(t){t.data.vm.context.createList(function(t){})},newTask:function(t){n=!0;var e=t.data.vm.context,a=jQuery(t.target).data("list_id");e.createTask(a)},linkValidation:function(t,e){return 1==t.type?s.linkValidationOne(t,e):3==t.type?s.linkValidationThree(t,e):0==t.type?s.linkValidationZero(t,e):2==t.type?s.linkValidationTwo(t,e):void 0},linkValidationZero:function(t,e){var a=e.context.getIndex(gantt.$data.tasksStore.pull,t.source,"id"),n=e.context.getIndex(gantt.$data.tasksStore.pull,t.target,"id"),r=e.context;if(!s.checkTypeValidation(a,n))return!1;if(!1===n)return!0;var i=gantt.$data.tasksStore.pull[a].end_date;i=pm.Moment(i).subtract(1,"days");var o=gantt.$data.tasksStore.pull[n].start_date;if(pm.Moment(i).isSameOrBefore(o))return!0;var d=gantt.$data.tasksStore.pull[a].text,c=gantt.$data.tasksStore.pull[n].text;return pm.Toastr.error(c+" "+r.__("will start after completing ","pm-pro")+" "+d),!1},linkValidationThree:function(t,e){var a=e.context.getIndex(gantt.$data.tasksStore.pull,t.source,"id"),n=e.context.getIndex(gantt.$data.tasksStore.pull,t.target,"id"),r=e.context;if(!s.checkTypeValidation(a,n))return!1;var i=gantt.$data.tasksStore.pull[a].start_date,o=gantt.$data.tasksStore.pull[n].end_date;if(o=pm.Moment(o).subtract(1,"days"),pm.Moment(i).isSameOrBefore(o))return!0;var d=gantt.$data.tasksStore.pull[a].text,c=gantt.$data.tasksStore.pull[n].text;return pm.Toastr.error(c+" "+r.__("will complete after start","pm-pro")+" "+d),!1},linkValidationTwo:function(t,e){var a=e.context.getIndex(gantt.$data.tasksStore.pull,t.source,"id"),n=e.context.getIndex(gantt.$data.tasksStore.pull,t.target,"id"),r=e.context;if(!s.checkTypeValidation(a,n))return!1;var i=gantt.$data.tasksStore.pull[a].end_date;i=pm.Moment(i).subtract(1,"days");var o=gantt.$data.tasksStore.pull[n].end_date;if(o=pm.Moment(o).subtract(1,"days"),pm.Moment(i).isSameOrBefore(o))return!0;var d=gantt.$data.tasksStore.pull[a].text,c=gantt.$data.tasksStore.pull[n].text;return pm.Toastr.error(c+" "+r.__("will complete after completing the","pm-pro")+" "+d),!1},linkValidationOne:function(t,e){var a=e.context.getIndex(gantt.$data.tasksStore.pull,t.source,"id"),n=e.context.getIndex(gantt.$data.tasksStore.pull,t.target,"id"),r=e.context;if(!s.checkTypeValidation(a,n))return!1;var i=gantt.$data.tasksStore.pull[a].start_date,o=gantt.$data.tasksStore.pull[n].start_date;if(pm.Moment(i).isSameOrBefore(o))return!0;var d=gantt.$data.tasksStore.pull[a].text,c=gantt.$data.tasksStore.pull[n].text;return pm.Toastr.error(r.sprintf(r.__("%1$s will start with the %2$s or after completing the %3$s","pm-pro"),c,d,d)),!1},checkTypeValidation:function(t,e){var a=gantt.$data.tasksStore.pull[t],n=gantt.$data.tasksStore.pull[e],s=["list","project"];return void 0===a&&void 0===n||-1==s.indexOf(a.type)&&-1==s.indexOf(n.type)}};pm.Vue.directive("pm-gantt",{inserted:function(t,e,a){s.init(t,e,a)}})},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(7),s=a(26),r=a(0)(n.a,s.a,!1,null,null,null);e.default=r.exports},function(t,e,a){"use strict";var n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"menu-item"},[e("router-link",{class:this.setActiveMenu("gantt"),attrs:{to:{name:"gantt",param:{project_id:this.project_id}}}},[e("span",{staticClass:"logo icon-pm-gantchart"}),this._v(" "),e("span",[this._v(" "+this._s(this.__("Gantt Chart","pm-pro")))])])],1)},staticRenderFns:[]};e.a=n}]);