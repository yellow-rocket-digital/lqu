function yith_wapo_replace_image(e,t=!1){var a=yith_wapo.replace_image_path,i=".yith_magnifier_zoom_magnifier, .zoomWindowContainer .zoomWindow";if(void 0!==e.data("replace-image")&&""!=e.data("replace-image")&&(e=e.data("replace-image"),void 0===jQuery(a).attr("wapo-original-img")&&(jQuery(a).attr("wapo-original-img",jQuery(a).attr("src")),jQuery(i).length&&jQuery(i).attr("wapo-original-img",jQuery(i).css("background-image").slice(4,-1).replace(/"/g,""))),jQuery(a).attr("src",e),jQuery(a).attr("srcset",e),jQuery(a).attr("data-src",e),jQuery(i).css("background-image","url("+e+")"),jQuery("#yith_wapo_product_img").val(e),jQuery(a).attr("data-large_image",e),0<jQuery(".woocommerce-product-gallery .woocommerce-product-gallery__image").length&&jQuery(".woocommerce-product-gallery").trigger("woocommerce_gallery_reset_slide_position"),jQuery(".woocommerce-product-gallery").trigger("woocommerce_gallery_init_zoom"),jQuery(document).trigger("yith-wapo-after-replace-image")),t&&void 0!==jQuery(a).attr("wapo-original-img")){let o=!0;jQuery(".yith-wapo-option").each(function(e,t){let a=jQuery(t);a.data("replace-image")&&a.hasClass("selected")&&(o=!1)}),o&&(e=jQuery(a).attr("wapo-original-img"),t=jQuery(i).attr("wapo-original-img"),jQuery(a).attr("src",e),jQuery(a).attr("srcset",e),jQuery(a).attr("data-src",e),jQuery(a).attr("data-large_image",e),jQuery(i).css("background-image","url("+t+")"),0<jQuery(".woocommerce-product-gallery .woocommerce-product-gallery__image").length&&jQuery(".woocommerce-product-gallery").trigger("woocommerce_gallery_reset_slide_position"),jQuery(".woocommerce-product-gallery").trigger("woocommerce_gallery_init_zoom"),jQuery(document).trigger("yith-wapo-after-replace-image"))}}function yith_wapo_check_required_fields(r){var n=!1,c=!1,e=yith_wapo.dom.single_add_to_cart_button;return jQuery("form.cart .yith-wapo-addon:not(.hidden):visible input, form.cart .yith-wapo-addon:not(.hidden):visible select, form.cart .yith-wapo-addon:not(.hidden):visible textarea").each(function(){let e=jQuery(this),t=e.parents(".yith-wapo-option"),a=e.parents("div.yith-wapo-addon.wapo-toggle"),o=a.find("h3.wapo-addon-title.toggle-closed"),i=t.find(".yith-wapo-ajax-uploader");(!e.attr("required")||"checkbox"!==e.attr("type")&&"radio"!==e.attr("type")||e.parents(".yith-wapo-option").hasClass("selected"))&&(!e.attr("required")||""!=e.val()&&"Required"!=e.val())||("highlight"===r&&(i?(i.css("border","1px dashed #f00"),i.css("background-color","#fee")):e.css("border","1px solid #f00"),t.find(".required-error").css("display","block"),o&&o.click()),n=c=!0)}),"hide"==r&&(c?jQuery(e).hide():jQuery(e).fadeIn()),!n}function yith_wapo_conditional_logic_check(){var c={};jQuery("form.cart .yith-wapo-addon.conditional_logic").each(function(){var e=!1,t=!1,a=jQuery(this).data("conditional_logic_display"),o=jQuery(this).data("conditional_logic_display_if"),i=String(jQuery(this).data("conditional_rule_addon")),r=String(jQuery(this).data("conditional_rule_addon_is")),n=String(jQuery(this).data("conditional_rule_variations")),i=void 0!==i&&"0"!==i&&""!==i&&i.split("|"),r=void 0!==r&&""!==r&&r.split("|");if((n=void 0!==n&&""!==n&&n.split("|"))||i&&r){if(i&&r)switch(o){case"all":e=conditionalLogicAllRules(i,r);break;case"any":e=conditionalLogicAnyRules(i,r)}else e=!0;e&&n?(o=jQuery(".variation_id").val(),-1!==jQuery.inArray(String(o),n)&&(t=!0)):t=!0}else t=e=!0,a="show";switch(a){case"show":c[jQuery(this).attr("id")]=t&&e?"not-hidden":"hidden";break;case"hide":c[jQuery(this).attr("id")]=t&&e?"hidden":"not-hidden"}}),jQuery.each(c,function(e,t){let a=jQuery("#"+e);"not-hidden"===t?(a.fadeIn().removeClass("hidden").find(".yith-wapo-option:not(.out-of-stock) .yith-wapo-option-value").attr("disabled",!1),yith_wapo_replace_image(a.find(".yith-wapo-option.selected")),a.hasClass("yith-wapo-addon-type-select")&&a.find(".yith-wapo-option-value").attr("disabled",!1),yith_wapo_check_min_max(a)):a.hide().addClass("hidden").find(".yith-wapo-option-value").attr("disabled",!0)})}function conditionalLogicAllRules(e,t){for(var a=!0,o=0;o<e.length;o++)if(0!=e[o]&&e[o]){var i,r,n=e[o].split("-"),c=!1,d=!1;switch(d="undefined"!=typeof n[1]?(c=(jQuery("#yith-wapo-"+n[0]+"-"+n[1]).is(":checked")||jQuery("select#yith-wapo-"+n[0]).val()==n[1])&&!jQuery("#yith-wapo-addon-"+n[0]).hasClass("hidden"),r=jQuery("input#yith-wapo-"+n[0]+"-"+n[1]).val(),i=jQuery("textarea#yith-wapo-"+n[0]+"-"+n[1]).val(),(void 0!==r&&""!==r||void 0!==i&&""!==i)&&!jQuery("#yith-wapo-addon-"+n[0]).hasClass("hidden")):(c=0<jQuery("#yith-wapo-addon-"+e[o]+" input:checkbox:checked").length||0<jQuery("#yith-wapo-addon-"+e[o]+" input:radio:checked").length||0<jQuery("#yith-wapo-addon-"+e[o]+" option:selected").length&&"default"!=jQuery("#yith-wapo-addon-"+e[o]+" option:selected").val(),r="undefined",jQuery("#yith-wapo-addon-"+n[0]+" input, #yith-wapo-addon-"+n[0]+" textarea").each(function(e){""!==jQuery(this).val()&&(r=!0)}),"undefined"!=r&&""!==r&&!jQuery("#yith-wapo-addon-"+n[0]).hasClass("hidden")),t[o]){case"selected":c||(a=!1);break;case"not-selected":c&&(a=!1);break;case"empty":d&&(a=!1);break;case"not-empty":d||(a=!1)}if(!a)break}return a}function conditionalLogicAnyRules(e,t){for(var a=!1,o=0;o<e.length;o++)if(0!=e[o]&&e[o]){var i,r,n=e[o].split("-");switch(AddonNotEmpty="undefined"!=typeof n[1]?(AddonSelected=(jQuery("#yith-wapo-"+n[0]+"-"+n[1]).is(":checked")||jQuery("select#yith-wapo-"+n[0]).val()==n[1])&&!jQuery("#yith-wapo-addon-"+n[0]).hasClass("hidden"),r=jQuery("input#yith-wapo-"+n[0]+"-"+n[1]).val(),i=jQuery("textarea#yith-wapo-"+n[0]+"-"+n[1]).val(),(void 0!==r&&""!==r||void 0!==i&&""!==i)&&!jQuery("#yith-wapo-addon-"+n[0]).hasClass("hidden")):(AddonSelected=0<jQuery("#yith-wapo-addon-"+e[o]+" input:checkbox:checked").length||0<jQuery("#yith-wapo-addon-"+e[o]+" input:radio:checked").length||0<jQuery("#yith-wapo-addon-"+e[o]+" option:selected").length&&"default"!=jQuery("#yith-wapo-addon-"+e[o]+" option:selected").val(),r="undefined",jQuery("#yith-wapo-addon-"+n[0]+" input, #yith-wapo-addon-"+n[0]+" textarea").each(function(e){""!==jQuery(this).val()&&(r=!0)}),"undefined"!=r&&""!==r&&!jQuery("#yith-wapo-addon-"+n[0]).hasClass("hidden")),t[o]){case"selected":AddonSelected&&(a=!0);break;case"not-selected":AddonSelected||(a=!0);break;case"empty":AddonNotEmpty||(a=!0);break;case"not-empty":AddonNotEmpty&&(a=!0)}if(a)break}return a}function updateContainerProductPrice(a){if(!jQuery(".cart.yith-wcpb-bundle-form").length){let e=jQuery("#yith-wapo-container"),t=0;var o;"undefined"!=typeof a.display_price&&(t=a.display_price,"yes"===yith_wapo.use_price_html_on_variations&&"undefined"!=typeof a.price_html&&(o=jQuery(a.price_html).find("> .amount bdi").text(),o=wcPriceToFloat(o),isNaN(o)||t===o||(t=o))),e.attr("data-product-price",t),e.attr("data-product-id",a.variation_id)}}function yith_wapo_ajax_upload_file(e,t,o){let i=calculate_exact_file_size(t);return o.parent().find(".yith-wapo-ajax-uploader").append('<div class="loader"></div>'),jQuery.ajax({url:yith_wapo.ajaxurl,type:"POST",contentType:!1,processData:!1,dataType:"json",data:e,success:function(e){var t=o.parent(),a=(t.find(".yith-wapo-ajax-uploader .loader").remove(),t.find(".yith-wapo-ajax-uploader").hide(),e.file_name.replace(/^.*[\\\/] /,""));t.find(".yith-wapo-uploaded-file .info").html(a+"<br />"+i),t.find(".yith-wapo-uploaded-file").fadeIn(),t.find("input.option").val(e.url).change()},error:function(e){}}),!1}function calculate_exact_file_size(e){let t=e.size,a=0;for(;900<t;)t/=1024,a++;return Math.round(100*t)/100+" "+["Bytes","KB","MB","GB"][a]}function yith_wapo_check_required_min_max(){if(!checkRequiredSelect())return!1;if(!yith_wapo_check_required_fields("highlight"))return!1;var e,t=0;return jQuery("form.cart .yith-wapo-addon:not(.hidden)").each(function(){0<(e=yith_wapo_check_min_max(jQuery(this),!0))&&(t+=e)}),!(0<t)}function yith_wapo_check_min_max(t,e=!1){var a,o=t.data("addon-type"),i=t.data("min"),r=t.data("max"),n=t.data("exa"),c=0;let d=t.find("h3.wapo-addon-title.toggle-closed");if("number"===o||"text"===o||"textarea"===o){if(jQuery(t).find(".yith-wapo-option-value").each(function(e){jQuery(this).val().length&&c++}),""!==r&&r<c){let e=jQuery(t).find(".options");return e.find(".max-selected-error").length||e.append('<p class="max-selected-error">'+yith_wapo.maxOptionsSelectedMessage+"</p>"),1}}else c=t.find('input:checkbox:checked, input:radio:checked, option:not([value=""]):not([value="default"]):selected').length;return 0<n?(a=0,n==c?(t.removeClass("required-min"),t.find(".min-error, .min-error span").hide(),t.find("input:checkbox").not(":checked").attr("disabled",!0)):(e&&(a=n-c,t.addClass("required-min"),t.find(".min-error").show(),1==a?(t.find(".min-error-an, .min-error-option").show(),t.find(".min-error-qty").hide()):(t.find(".min-error-an, .min-error-option").hide(),t.find(".min-error-qty, .min-error-options").show(),t.find(".min-error-qty").text(a)),d&&d.click()),t.find(".yith-wapo-option:not(.out-of-stock) input:checkbox").not(":checked").attr("disabled",!1)),a):(0<r&&(c<r?t.find(".yith-wapo-option:not(.out-of-stock) input:checkbox").not(":checked").attr("disabled",!1):t.find("input:checkbox").not(":checked").attr("disabled",!0)),0<i?(a=0,i<=c?(t.removeClass("required-min"),t.find(".min-error, .min-error span").hide()):(a=i-c,e&&(t.addClass("required-min"),t.find(".min-error").show(),1==a?(t.find(".min-error-an, .min-error-option").show(),t.find(".min-error-qty, .min-error-options").hide()):(t.find(".min-error-an, .min-error-option").hide(),t.find(".min-error-qty, .min-error-options").show(),t.find(".min-error-qty").text(a)),d&&d.click())),a):void 0)}function checkRequiredSelect(){let t=!0;return jQuery(".yith-wapo-addon.yith-wapo-addon-type-select select").each(function(){let i=jQuery(this);if(i.is(":required")){let o=i.parents(".yith-wapo-addon");var e=i.val();if("default"===e&&!o.hasClass("hidden")&&!(t=!1)){let e=o.find(".min-error, .min-error-an, .min-error-option"),t=i.parents("div.yith-wapo-addon.wapo-toggle"),a=t.find("h3.wapo-addon-title.toggle-closed");o.addClass("required-min"),a&&a.click(),o.css("border","1px solid #f00"),e.show()}}}),t}function yith_wapo_check_multiplied_price(e){let t=e.data("price");var a=e.data("price-sale");let o=e.data("default-price");var i=e.data("price-type"),r=e.data("price-method");let n="price",c=0;var d=e.val();0<!o&&(0<a&&"number"!==e.attr("type")&&"multiplied"===i&&(t=a,n="price-sale"),o=t,e.data("default-price",o)),"value_x_product"==r?(a=parseFloat(jQuery("#yith-wapo-container").attr("data-product-price")),c=d*a):"multiplied"==i&&(c=d*o),0<c&&e.data(n,c)}function yith_wapo_check_multiplied_length(t){var a=t.data("price");let o=t.data("default-price");var e=t.data("price-type");if(0<!o&&(o=a,t.data("default-price",o)),"characters"===e){a=t.data("remove-spaces");let e=t.val().length;a&&(e=t.val().replace(/\s+/g,"").length),t.data("price",e*o)}}jQuery(document).ready(function(l){(initColorpicker=function(){var p={color:!1,mode:"hsl",controls:{horiz:"s",vert:"l",strip:"h"},hide:!0,target:!1,width:180,palettes:!1,change:function(e,t){let a=l(this).closest(".wp-picker-container"),o=a.find(".wp-picker-input-wrap"),i=a.find(".wp-picker-custom-placeholder"),r=a.find(".wp-picker-default-custom");"placeholder"===a.find(".wp-color-picker").data("addon-colorpicker-show")&&(""===t.color.toString()&&"undefined"===t.color.toString()||(o.find(".wp-color-picker").show(),i.hide(),r.show(),i.css("line-height","3.0"))),l(document).trigger("wapo-colorpicker-change")},clear:function(e,t){let a=l(this).closest(".wp-picker-container"),o=a.find(".wp-picker-input-wrap"),i=a.find(".wp-picker-custom-placeholder"),r=a.find(".wp-picker-default-custom");"placeholder"===a.find(".wp-color-picker").data("addon-colorpicker-show")&&(o.find(".wp-color-picker").hide(),i.show(),r.hide(),i.css("line-height","0")),l(document).trigger("wapo-colorpicker-change")}};function e(){l(".yith-wapo-block .yith-wapo-addon-type-colorpicker .wp-color-picker").each(function(){l(this).wpColorPicker(p);let a=l(this).closest(".wp-picker-container"),e=a.find("button .wp-color-result-text"),t=a.find(".wp-picker-default"),o=a.find(".wp-picker-input-wrap");var i,r=l(this).data("addon-colorpicker-show"),n=l(this).data("addon-placeholder");e.html("");let c=l(this).parents(".wp-picker-container"),d=c.find(".wp-picker-input-wrap");if(c.hasClass("yith-wapo-colorpicker-initialized")||c.addClass("yith-wapo-colorpicker-initialized"),d.find(".wp-picker-default-custom").length||(i=l("<span/>").attr({"class":"wp-picker-default-custom"}),d.find(".wp-picker-default, .wp-picker-clear").wrap(i)),"placeholder"===r){o.find(".wp-color-picker").hide(),o.find(".wp-picker-custom-placeholder").length||((i=l("<span/>").attr({"class":"wp-picker-custom-placeholder"})).html(n),o.find(".screen-reader-text").before(i));let e=a.find(".wp-picker-default-custom"),t=a.find(".wp-picker-custom-placeholder");e.hide(),t.css("line-height","0")}t.trigger("click")})}l(document).on("yith-wapo-after-reload-addons",e),checkColorPickerOnInput=function(){l(document).on("click",function(e){if(!l(e.target).is(".yith-wapo-colorpicker-container .iris-picker, .yith-wapo-colorpicker-container .iris-picker-inner")){let e=l(".yith-wapo-colorpicker-container .yith-wapo-colorpicker-initialized .wp-color-picker");0<e.length&&e.iris("hide")}}),l(".yith-wapo-colorpicker-container .yith-wapo-colorpicker-initialized .wp-color-picker").click(function(e){l(this).iris("show")})},e(),checkColorPickerOnInput()})()}),jQuery(function(w){var a=!1;calculateAddonsPrice=function(){var u=0,h=0,y=0,_=w(yith_wapo.product_quantity_selector).val();return 0<!_&&(_=1),w("form.cart .yith-wapo-addon:not(.hidden):visible input, form.cart .yith-wapo-addon:not(.hidden):visible select, form.cart .yith-wapo-addon:not(.hidden):visible textarea").each(function(){let c=w(this),d=parseFloat(w("#yith-wapo-container").attr("data-product-price")),p=c.data("addon-id");if(p){let e=c.attr("type"),t=c.data("price-method"),a=0,o="",i=c.parents(".yith-wapo-addon"),r=i.data("addon-type"),n=1;if("number"===e&&0==c.val())return y;var l,s;c.is("textarea")&&(e="textarea"),(c.is(":checked")||c.find(":selected").is("option")||c.is("input:not([type=checkbox])")&&c.is("input:not([type=radio])")&&""!=c.val()||c.is("textarea")&&""!=c.val())&&(c.is("select")&&(c=c.find(":selected")),"number"===e&&yith_wapo_check_multiplied_price(c),"text"!==e&&"textarea"!==e||yith_wapo_check_multiplied_length(c),h!=p&&(h=c.data("addon-id"),u=c.data("first-free-options")),"yes"==c.data("first-free-enabled")&&0<u?u--:(void 0!==c.data("price-type")&&""!==c.data("price-type")&&(o=c.data("price-type")),l=c.data("price-sale"),s=c.data("price"),void 0!==l&&""!==l&&0<=l&&"multiplied"!==o?a=parseFloat(l):void 0!==s&&""!==s&&(a=parseFloat(s)),"percentage"===o&&"discount"!==t&&(a=a*d/100),"product"===r&&(c.hasClass(".yith-wapo-option")||(c=c.parents(".yith-wapo-option"),(n=c.find(".wapo-product-qty"))&&1<(n=n.val())&&(a*=n))),1<_&&!i.hasClass("sell_individually")&&(a*=_),y+=a))}}),y},setTotalBoxPrices=function(e,t,a=!0){var o=yith_wapo.woocommerce_currency_symbol,i=yith_wapo.woocommerce_currency_pos,r=yith_wapo.total_thousand_sep,n=yith_wapo.decimal_sep,c=yith_wapo.num_decimal,d=w(yith_wapo.product_quantity_selector).val(),e=e*(d=0<!d?1:d),d=parseFloat(t),p=t=parseFloat(t+e),l=e,s=d,e=e.toFixed(c).replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r),d=d.toFixed(c).replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r),t=t.toFixed(c).replace(".",n).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r),p="right"==i?(e+=o,d+=o,t+o):"right_space"==i?(e=e+" "+o,d=d+" "+o,t+" "+o):"left_space"==i?(e=o+" "+e,d=o+" "+d,o+" "+t):(e=o+e,d=o+d,o+t);yith_wapo.price_suffix?calculateProductPrice():w("#wapo-total-product-price").html(e),replaceProductPrice(a,t,p),w("#wapo-total-options-price").html(d),w("#wapo-total-order-price").html(p),w("#wapo-total-price-table").css("opacity","1"),w(document).trigger("yith_wapo_product_price_updated",[l+s])},replaceProductPrice=function(e,t,o){if(e&&"yes"===yith_wapo.replace_product_price&&!isNaN(parseFloat(t))&&0<w(yith_wapo.replace_product_price_class).length){let e=yith_wapo.priceSuffix,t="",a=w(yith_wapo.replace_product_price_class+" bdi").text();e&&(t=' <small class="woocommerce-price-suffix">'+e+"</small>"),w(yith_wapo.replace_product_price_class).html('<span class="woocommerce-Price-amount amount"><bdi>'+o+"</bdi></span>"+t),0===wcPriceToFloat(a)&&w(yith_wapo.replace_product_price_class).find("bdi").remove()}},calculateProductPrice=function(){var e={action:"update_totals_with_suffix",product_id:parseInt(w("#yith-wapo-container").attr("data-product-id")),security:yith_wapo.addons_nonce};jQuery.ajax({url:yith_wapo.ajaxurl,type:"post",data:e,success:function(e){e&&(e=e.price_html,w("#wapo-total-product-price").html(e))}})},calculateTotalAddonsPrice=function(i=!0){"yes"===yith_wapo.hide_button_required&&yith_wapo_check_required_fields("hide"),w("#wapo-total-price-table").css("opacity","0.5"),setTimeout(function(){var e,t=parseFloat(w("#yith-wapo-container").attr("data-product-price")),a=yith_wapo.total_price_box_option;let o=w("button.ywgc-amount-buttons.selected_button");0<o.length&&(t=o.data("price")),e=calculateAddonsPrice(),"hide_options"===a&&(0!==e?w("#wapo-total-price-table .hide_options tr.wapo-total-options").fadeIn():w("#wapo-total-price-table .hide_options tr.wapo-total-options").hide()),setTotalBoxPrices(t,e,i)},1e3)},productQuantityChange=function(){let e=w(this),t=e.val(),a=e.closest(".yith-wapo-option").data("product-id"),o=e.closest(".option-add-to-cart").find(".add_to_cart_button"),i=1,r;o.length&&a&&(r="?add-to-cart="+a+"&quantity="+(i=1<t?t:i),o.attr("href",r))},wcPriceToFloat=function(e){e=e.replace(/(?![\.\,])\D/g,"").replace(yith_wapo.total_thousand_sep,"").replace(yith_wapo.decimal_sep,".");return parseFloat(e)},getDefaultProductPrice=function(){let o=w(".variations_form.cart").data("product_id");var e={action:"get_default_variation_price",product_id:parseInt(o),security:yith_wapo.addons_nonce};jQuery.ajax({url:yith_wapo.ajaxurl,type:"post",data:e,success:function(t){if(t){var a=t.price_html;"yes"===yith_wapo.replace_product_price&&w(yith_wapo.replace_product_price_class).html(a);let e=jQuery("#yith-wapo-container");e.attr("data-product-price",t.current_price),e.attr("data-product-id",o)}},complete:function(){}})},checkDefaultOptionsOnLoad=function(){var e=w(".yith-wapo-addon:not(.conditional_logic) .yith-wapo-option.selected");w(e).each(function(){yith_wapo_replace_image(w(this))})},resetAddons=function(e,t){"yith_wccl"!==t&&(a?(getDefaultProductPrice(),w(document).trigger("yith-wapo-reload-addons")):a=!0)},foundVariation=function(e,t){updateContainerProductPrice(t),w(document).trigger("yith-wapo-reload-addons")},reloadAddons=function(e,t=""){var a=w("form.cart").serializeArray(),o=w("form.cart:not(.ywcp) #yith-wapo-container"),a={action:"live_print_blocks",addons:a};""!=t&&(a.price=t),w("#yith-wapo-container").css("opacity","0.5"),w.ajax({url:yith_wapo.ajaxurl,type:"post",data:a,success:function(e){o.html(e),yith_wapo_conditional_logic_check(),o.css("opacity","1"),w("form.cart").trigger("yith-wapo-after-reload-addons"),calculateTotalAddonsPrice(!1)}})},w(document).on("ywgc-amount-changed",function(e,t){t=t.data("price");let a=jQuery("#yith-wapo-container");a.attr("data-product-price",t),calculateTotalAddonsPrice()}),w(document).on("change",".gift-cards-list .ywgc-manual-amount-container input.ywgc-manual-amount",function(e){let t=w(this),a=t.val(),o=jQuery("#yith-wapo-container");o.attr("data-product-price",a),calculateTotalAddonsPrice()}),w(document).on("ywdpd_price_html_updated",function(e,t){t=jQuery(t).children(".amount bdi").text(),t=wcPriceToFloat(t);if(!isNaN(t)){let e=jQuery("#yith-wapo-container");e.attr("data-product-price",t),calculateTotalAddonsPrice()}}),w(document).on("yith_wcpb_ajax_update_price_request",function(e,t){t=jQuery(t.price_html).children(".amount bdi").text(),t=wcPriceToFloat(t);if(!isNaN(t)){let e=jQuery("#yith-wapo-container");e.attr("data-product-price",t),calculateTotalAddonsPrice()}}),w(document).on("change","form.cart div.yith-wapo-addon, form.cart .quantity input[type=number]",function(){calculateTotalAddonsPrice()}),w(document).on("keyup",'form.cart .yith-wapo-addon-type-number input[type="number"], form.cart .yith-wapo-addon-type-text input[type="text"], form.cart .yith-wapo-addon-type-textarea textarea',function(){calculateTotalAddonsPrice()}),w(document).on("click","form.cart .yith-wapo-addon-type-colorpicker .yith-wapo-colorpicker-initialized input.wp-color-picker",function(){calculateTotalAddonsPrice()}),w(document).on("wapo-colorpicker-change",function(){calculateTotalAddonsPrice()}),calculateTotalAddonsPrice(),checkDefaultOptionsOnLoad(),w(document).on("change keyup",".yith-wapo-option .wapo-product-qty",productQuantityChange),w(document).on("reset_data",resetAddons),w(document).on("found_variation",foundVariation),w(document).on("yith-wapo-reload-addons",reloadAddons)}),jQuery(document).on("change",".yith-wapo-addon-type-checkbox input",function(){let e=jQuery(this),t=e.parents(".checkboxbutton"),a=e.parents(".yith-wapo-option"),o=a.parent();"checked"!==e.attr("checked")?(a.hasClass("selection-single")&&(o.find("input").attr("checked",!1),o.find("input").prop("checked",!1),o.find(".selected, .checked").removeClass("selected checked")),e.attr("checked",!0),e.prop("checked",!0),a.addClass("selected"),t.addClass("checked"),yith_wapo_replace_image(a)):(e.attr("checked",!1),e.prop("checked",!1),a.removeClass("selected"),t.removeClass("checked"),yith_wapo_replace_image(a,!0))}),jQuery(document).on("change",".yith-wapo-addon-type-color input",function(){var e=jQuery(this).parent();e.hasClass("yith-wapo-option")||(e=e.parent()),jQuery(this).is(":checked")?(e.addClass("selected"),e.hasClass("selection-single")&&(e.parent().find("input").prop("checked",!1),e.parent().find(".selected").removeClass("selected"),e.find("input").prop("checked",!0),e.addClass("selected")),yith_wapo_replace_image(e)):(e.removeClass("selected"),yith_wapo_replace_image(e,!0))}),jQuery("body").on("change",".yith-wapo-addon-type-label input",function(){var e=jQuery(this).parent();e.hasClass("yith-wapo-option")||(e=e.parent()),jQuery(this).is(":checked")?(e.addClass("selected"),e.hasClass("selection-single")&&(e.parent().find("input").prop("checked",!1),e.parent().find(".selected").removeClass("selected"),e.find("input").prop("checked",!0),e.addClass("selected")),yith_wapo_replace_image(e)):(e.removeClass("selected"),yith_wapo_replace_image(e,!0))}),jQuery(document).on("click",".yith-wapo-addon-type-product .yith-wapo-option .product-container",function(){jQuery(this).closest(".yith-wapo-option").find(".yith-proteo-standard-checkbox").click()}),jQuery(document).on("change",".yith-wapo-addon-type-product .yith-wapo-option input.yith-proteo-standard-checkbox",function(){var e=jQuery(this).parent();e.hasClass("yith-wapo-option")||(e=e.parent()),jQuery(this).is(":checked")?(e.addClass("selected"),e.hasClass("selection-single")&&(e.parent().find("input").prop("checked",!1),e.parent().find(".selected").removeClass("selected"),e.find("input").prop("checked",!0),e.addClass("selected")),yith_wapo_replace_image(e)):(e.removeClass("selected"),yith_wapo_replace_image(e,!0))}),jQuery("body").on("change",".yith-wapo-addon-type-radio input",function(){var e=jQuery(this).parent();e.hasClass("yith-wapo-option")||(e=e.closest(".yith-wapo-option")),jQuery(this).is(":checked")?(e.addClass("selected"),yith_wapo_replace_image(e),e.siblings().removeClass("selected")):e.removeClass("selected")}),jQuery("body").on("change",".yith-wapo-addon-type-select select",function(){let e=jQuery(this).parent(),t=jQuery(this).find("option:selected"),a=e.find("div.option-image");e.hasClass("yith-wapo-option")||(e=e.parent());var o=t.data("image"),i=t.data("description"),r=e.find("p.option-description");void 0!==o&&o&&(o='<img src="'+o+'" style="max-width: 100%">',a.html(o)),"default"===t.val()||""===o?a.hide():a.fadeIn(),void 0===i?r.empty():r.html(i),t.data("replace-image")?yith_wapo_replace_image(t):yith_wapo_replace_image(t,!0)}),jQuery(".yith-wapo-addon-type-select select").trigger("change"),jQuery(document).on("click",".yith-wapo-addon.wapo-toggle .wapo-addon-title",function(){let e=jQuery(this),t=e.parents(".yith-wapo-addon");t.hasClass("toggle-open")?t.removeClass("toggle-open").addClass("toggle-closed"):t.removeClass("toggle-closed").addClass("toggle-open"),e.hasClass("toggle-open")?e.removeClass("toggle-open").addClass("toggle-closed"):e.removeClass("toggle-closed").addClass("toggle-open"),e.parents(".yith-wapo-addon").find(".options, .title-image").toggle("fast"),jQuery(document).trigger("yith_proteo_inizialize_html_elements")}),jQuery(document).on("change keyup","form.cart .yith-wapo-addon",yith_wapo_conditional_logic_check),window.setInterval(yith_wapo_conditional_logic_check,1e3),jQuery("form.cart").on("change","#price_calculator.wc-measurement-price-calculator-price-table",function(){var t=jQuery("#price_calculator.wc-measurement-price-calculator-price-table .product_price .amount").text(),t=wcPriceToFloat(t);if(!isNaN(t)){let e=jQuery("#yith-wapo-container");e.attr("data-product-price",t),jQuery(document).trigger("yith-wapo-reload-addons",[t])}}),jQuery("html").on("dragover",function(e){e.preventDefault(),e.stopPropagation()}),jQuery("html").on("drop",function(e){e.preventDefault(),e.stopPropagation()}),jQuery(".yith-wapo-ajax-uploader").on("dragenter",function(e){e.stopPropagation(),e.preventDefault(),jQuery(this).css("opacity","0.5")}),jQuery(".yith-wapo-ajax-uploader").on("dragover",function(e){e.stopPropagation(),e.preventDefault()}),jQuery(".yith-wapo-ajax-uploader").on("dragleave",function(e){e.stopPropagation(),e.preventDefault(),jQuery(this).css("opacity","1")}),jQuery(".yith-wapo-ajax-uploader").on("drop",function(e){e.stopPropagation(),e.preventDefault();var t=jQuery(this).parent().find("input.file"),e=e.originalEvent.dataTransfer.files[0],a=new FormData;a.append("action","upload_file"),a.append("file",e),yith_wapo.upload_allowed_file_types.includes(e.name.split(".").pop().toLowerCase())?e.size<=1024*yith_wapo.upload_max_file_size*1024?yith_wapo_ajax_upload_file(a,e,t):alert("Error: max file size "+yith_wapo.upload_max_file_size+" MB!"):alert("Error: not supported extension!")}),jQuery(document).on("click",".yith-wapo-ajax-uploader .button, .yith-wapo-ajax-uploader .link",function(){jQuery(this).parent().parent().find("input.file").click()}),jQuery(document).on("change",".yith-wapo-addon-type-file input.file",function(){var e=jQuery(this),t=jQuery(this)[0].files[0],a=new FormData;a.append("action","upload_file"),a.append("file",t),yith_wapo.upload_allowed_file_types.includes(t.name.split(".").pop().toLowerCase())?t.size<=1024*yith_wapo.upload_max_file_size*1024?yith_wapo_ajax_upload_file(a,t,e):alert("Error: max file size "+yith_wapo.upload_max_file_size+" MB!"):alert("Error: not supported extension!")}),jQuery(document).on("click",".yith-wapo-uploaded-file .remove",function(){jQuery(this).parent().hide(),jQuery(this).parent().parent().find(".yith-wapo-ajax-uploader").fadeIn(),jQuery(this).parent().parent().find("input").val(""),jQuery(this).parent().parent().find("input.option").change()}),jQuery("form.cart").on("click","span.checkboxbutton",function(){jQuery(this).find("input").is(":checked")?jQuery(this).addClass("checked"):jQuery(this).removeClass("checked")}),jQuery("form.cart").on("click","span.radiobutton",function(){jQuery(this).find("input").is(":checked")&&(jQuery(this).parent().parent().parent().find("span.radiobutton.checked").removeClass("checked"),jQuery(this).addClass("checked"))}),jQuery(".yith-wapo-addon-type-checkbox, .yith-wapo-addon-type-color, .yith-wapo-addon-type-label, .yith-wapo-addon-type-product").each(function(){yith_wapo_check_min_max(jQuery(this))}),jQuery(document).on("change",".yith-wapo-addon-type-checkbox, .yith-wapo-addon-type-color, .yith-wapo-addon-type-label, .yith-wapo-addon-type-product",function(){yith_wapo_check_min_max(jQuery(this))}),jQuery(document).on("click","form.cart button",function(){var e=yith_wapo_check_required_min_max();return e?jQuery("form.cart .yith-wapo-addon.conditional_logic.hidden").remove():yith_wapo.disable_scroll_on_required_mix_max||jQuery("html, body").animate({scrollTop:jQuery("#yith-wapo-container").offset().top},500),e}),jQuery(document).on("click",".add-request-quote-button",function(e){e.preventDefault(),"undefined"==typeof yith_wapo_general&&(yith_wapo_general={do_submit:!0}),yith_wapo_check_required_min_max()?yith_wapo_general.do_submit=!0:yith_wapo_general.do_submit=!1}),jQuery("body").on("change keyup",".yith-wapo-addon-type-number input",function(){yith_wapo_check_multiplied_price(jQuery(this))}),jQuery(".wapo-product-qty").keyup(function(){var e="?add-to-cart="+jQuery(this).data("product-id")+"&quantity="+jQuery(this).val();jQuery(this).parent().find("a").attr("href",e)}),jQuery(".single-product").on("change","#wapo-datepicker-time select",function(){var e=jQuery(this).val();jQuery("#temp-time").text(e),jQuery(".ui-state-active").click()}),jQuery(".single-product").on("click","#wapo-datepicker-save button",function(){jQuery(".hasDatepicker").datepicker("hide")});