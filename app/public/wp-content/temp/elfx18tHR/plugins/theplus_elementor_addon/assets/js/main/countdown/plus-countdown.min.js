(function(){"use strict";var a=function(a,b){new class c{constructor(){this.container=a[0].querySelectorAll(".tp-countdown"),this.tp_load_counterdown()}tp_load_counterdown(){let a=this.container[0]&&this.container[0].dataset&&this.container[0].dataset.basic?JSON.parse(this.container[0].dataset.basic):"",b=a.style;this.Basic=a,this.GetClassList=this.container[0]&&this.container[0].dataset&&this.container[0].dataset.classlist?JSON.parse(this.container[0].dataset.classlist):"",a&&"normal"==a.type?b&&"style-1"==b?this.tp_normal_style1():b&&"style-2"==b?this.tp_filpdown_style2():b&&"style-3"==b&&this.tp_progressbar_style3():a&&"numbers"==a.type?(this.setTime=`tp-fakenumber-${this.Basic.widgetid}-${this.Basic.fakeinitminit}`,this.tp_fakenumber_countdown()):a&&"scarcity"==a.type&&("cookie"==this.Basic.storetype&&(this.scarcityid=`tp-${this.Basic.type}-${this.Basic.style}-${this.Basic.widgetid}-${this.Basic.scarminit}`),b&&"style-1"==b?this.tp_scarcity_style1():b&&"style-2"==b?(this.FlipdownID=`tp-flipdown-${this.Basic.widgetid}`,this.tp_scarcity_style2()):b&&"style-3"==b&&this.tp_scarcity_style3())}tp_normal_style1(){let a=this,c=this.container[0].querySelectorAll(".pt_plus_countdown");return this.Basic.normalexpiry?void(0<c.length&&c.forEach(function(c){b(c).downCount({date:a.Basic.timer,offset:a.Basic.offset,text_day:a.Basic.days,text_hour:a.Basic.hours,text_minute:a.Basic.minutes,text_second:a.Basic.seconds}),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="block",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="none")})):(this.tp_countdown_expiry(),void(a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="none",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="block")))}tp_filpdown_style2(){let a=this;if(this.FlipdownID=`tp-flipdown-${this.Basic.widgetid}`,this.container[0].classList.contains("countdown-style-2"))if(this.Basic.normalexpiry||!1==this.Basic.normalexpiry&&"none"==this.Basic.expiry){this.container[0].insertAdjacentHTML("afterbegin",`<div id ="${this.FlipdownID}" class="tp-scarcity-flipdown flipdown"></div>`);let b=new Date(this.Basic.timer).getTime()/1e3,c=this.tp_flipdown_gettheme();new FlipDown(b,this.FlipdownID,{theme:c,headings:[a.Basic.days,a.Basic.hours,a.Basic.minutes,a.Basic.seconds]}).start().ifEnded(()=>{a.tp_countdown_expiry(),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="none",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="block")}),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="block",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="none"),"mix"==this.Basic.fliptheme&&this.tp_flipdown_themechange()}else return a.tp_countdown_expiry(),void(a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="none",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="block"))}tp_progressbar_style3(){let a=this;if(this.Basic.normalexpiry||!1==this.Basic.normalexpiry&&"none"==this.Basic.expiry){this.tp_progressbar_sethtml();let c=this.container[0].querySelector(`#tp-sec-widget-${this.Basic.widgetid}`),d=this.container[0].querySelector(`#tp-min-widget-${this.Basic.widgetid}`),e=this.container[0].querySelector(`#tp-hour-widget-${this.Basic.widgetid}`),f=this.container[0].querySelector(`#tp-day-widget-${this.Basic.widgetid}`),g=this.tp_style3_styleobj();if(c){let h=new Date(this.Basic.timer).getTime(),i=new ProgressBar.Circle(c,g),j=new ProgressBar.Circle(d,g),k=new ProgressBar.Circle(e,g),l=new ProgressBar.Circle(f,g);var b=setInterval(function(){let c=new Date,d=new Date(h),e=d-c,f=Math.floor(1*(e/86400000));l.animate(f/(f+5),function(){a.tp_progressbar_settext(l,f,a.Basic.days)});let g=Math.floor(1*(e%86400000/3600000));k.animate(g/24,function(){a.tp_progressbar_settext(k,g,a.Basic.hours)});let m=Math.floor(1*(e%86400000%3600000/60000));j.animate(m/60,function(){a.tp_progressbar_settext(j,m,a.Basic.minutes)});let n=Math.floor(1*(e%86400000%3600000%60000/1e3));i.animate(n/60,function(){a.tp_progressbar_settext(i,n,a.Basic.seconds)}),0>=f+g+m+n&&(a.tp_countdown_expiry(),clearInterval(b))})}}else return void this.tp_countdown_expiry()}tp_scarcity_style1(){let a=this,b=this.scarcityid,c=this.container[0].querySelectorAll(".pt_plus_countdown"),d=new Date().getTime()+6e4*this.Basic.scarminit;if(0<c.length)if("cookie"==this.Basic.storetype){localStorage.getItem(b)||localStorage.setItem(b,+new Date(d));let c=this.updatedtime=+localStorage.getItem(b);this.looptime=c+6e4*+this.Basic.delayminit,this.container.forEach(function(b){a.s1self=b;let d=a.s1Interval=setInterval(function(){let e=Math.floor((c-new Date)/6e4);if(0<e+1){let d=new Date,e=c-d,f=Math.floor(e/86400000),g=Math.floor(e%86400000/3600000),h=Math.floor(e%3600000/60000),i=Math.floor(e%60000/1e3);0<b.querySelectorAll(".days").length&&(b.querySelector(".days").innerHTML=f),0<b.querySelectorAll(".hours").length&&(b.querySelector(".hours").innerHTML=g),0<b.querySelectorAll(".minutes").length&&(b.querySelector(".minutes").innerHTML=h),0<b.querySelectorAll(".seconds").length&&(b.querySelector(".seconds").innerHTML=i),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="block",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="none")}else a.tp_countdown_expiry(),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="none",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="block"),!1==a.Basic.fakeloop&&clearInterval(d)},1e3)})}else"normal"==this.Basic.storetype&&this.container.forEach(function(a){let b=setInterval(function(){let c=+new Date(d),e=new Date,f=c-e,g=Math.floor(f/86400000),h=Math.floor(f%86400000/3600000),i=Math.floor(f%3600000/60000),j=Math.floor(f%60000/1e3);0<=g+h+i+j?(0<a.querySelectorAll(".days").length&&(a.querySelector(".days").innerHTML=g),0<a.querySelectorAll(".hours").length&&(a.querySelector(".hours").innerHTML=h),0<a.querySelectorAll(".minutes").length&&(a.querySelector(".minutes").innerHTML=i),0<a.querySelectorAll(".seconds").length&&(a.querySelector(".seconds").innerHTML=j)):clearInterval(b)},1e3)})}tp_scarcity_style2(){let a=this,b=this.scarcityid;if(this.container[0].classList.contains("countdown-style-2")){if(this.container[0].insertAdjacentHTML("afterbegin",`<div id ="${this.FlipdownID}" class="tp-scarcity-flipdown flipdown"></div>`),"cookie"==this.Basic.storetype){let c=new Date().getTime()+6e4*this.Basic.scarminit;localStorage.getItem(b)||localStorage.setItem(b,+new Date(c));let d=+localStorage.getItem(b),e=this.CounterDate=new Date(d).getTime()/1e3,f=Math.floor((d-new Date)/6e4),g=this.tp_flipdown_gettheme();this.looptime=d+60000*+this.Basic.delayminit,0<=f?(new FlipDown(e,this.FlipdownID,{theme:g,headings:[a.Basic.days,a.Basic.hours,a.Basic.minutes,a.Basic.seconds]}).start().ifEnded(()=>{a.tp_countdown_expiry(),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="none",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="block")}),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="block",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="none")):(this.tp_countdown_expiry(),a.GetClassList&&(document.querySelector(a.GetClassList.duringcountdownclass).style.display="none",document.querySelector(a.GetClassList.afterexpcountdownclass).style.display="block"))}else if("normal"==this.Basic.storetype){let b=new Date().getTime()+6e4*this.Basic.scarminit,c=+new Date(b),d=this.CounterDate=new Date(c).getTime()/1e3,e=this.tp_flipdown_gettheme();new FlipDown(d,this.FlipdownID,{theme:e,headings:[a.Basic.days,a.Basic.hours,a.Basic.minutes,a.Basic.seconds]}).start().ifEnded(()=>{})}"mix"==this.Basic.fliptheme&&this.tp_flipdown_themechange()}}tp_scarcity_style3(){let a=this,b=this.scarcityid,c=new Date().getTime()+6e4*this.Basic.scarminit;this.tp_progressbar_sethtml();let d=this.container[0].querySelector(`#tp-sec-widget-${this.Basic.widgetid}`),e=this.container[0].querySelector(`#tp-min-widget-${this.Basic.widgetid}`),f=this.container[0].querySelector(`#tp-hour-widget-${this.Basic.widgetid}`),g=this.container[0].querySelector(`#tp-day-widget-${this.Basic.widgetid}`),h=this.tp_style3_styleobj();if("cookie"==this.Basic.storetype){if(localStorage.getItem(b)||localStorage.setItem(b,+new Date(c)),d){let c=+localStorage.getItem(b),j=Math.floor((c-new Date)/6e4);this.looptime=c+6e4*+this.Basic.delayminit;let k=new Date(c).getTime(),l=new ProgressBar.Circle(d,h),m=new ProgressBar.Circle(e,h),n=new ProgressBar.Circle(f,h),o=new ProgressBar.Circle(g,h);if(0<j+1)var i=setInterval(function(){let b=new Date,c=new Date(k),d=c-b,e=Math.floor(1*(d/86400000));o.animate(e/(e+5),function(){a.tp_progressbar_settext(o,e,a.Basic.days)});let f=Math.floor(1*(d%86400000/3600000));n.animate(f/24,function(){a.tp_progressbar_settext(n,f,a.Basic.hours)});let g=Math.floor(1*(d%86400000%3600000/60000));m.animate(g/60,function(){a.tp_progressbar_settext(m,g,a.Basic.minutes)});let h=Math.floor(1*(d%86400000%3600000%60000/1e3));l.animate(h/60,function(){a.tp_progressbar_settext(l,h,a.Basic.seconds)}),0==e+f+g+h&&(a.tp_countdown_expiry(),"loop"!=a.Basic.expirytype&&clearInterval(i))});else a.tp_countdown_expiry()}}else if("normal"==this.Basic.storetype&&d){let b=+new Date(c),i=new Date(b).getTime(),j=new ProgressBar.Circle(d,h),k=new ProgressBar.Circle(e,h),l=new ProgressBar.Circle(f,h),m=new ProgressBar.Circle(g,h),n=setInterval(function(){let b=new Date,c=new Date(i),d=c-b,e=Math.floor(1*(d/86400000));m.animate(e/(e+5),function(){a.tp_progressbar_settext(m,e,a.Basic.days)});let f=Math.floor(1*(d%86400000/3600000));l.animate(f/24,function(){a.tp_progressbar_settext(l,f,a.Basic.hours)});let g=Math.floor(1*(d%86400000%3600000/60000));k.animate(g/60,function(){a.tp_progressbar_settext(k,g,a.Basic.minutes)});let h=Math.floor(1*(d%86400000%3600000%60000/1e3));j.animate(h/60,function(){a.tp_progressbar_settext(j,h,a.Basic.seconds)}),0==e+f+g+h&&clearInterval(n)})}}tp_progressbar_sethtml(){if(this.Basic&&this.Basic.widgetid){let a=`<div class="tp-countdown-counter"><div class="counter-part" id="tp-day-widget-${this.Basic.widgetid}"></div><div class="counter-part" id="tp-hour-widget-${this.Basic.widgetid}"></div><div class="counter-part" id="tp-min-widget-${this.Basic.widgetid}"></div><div class="counter-part" id="tp-sec-widget-${this.Basic.widgetid}"></div></div>`;this.container[0].insertAdjacentHTML("afterbegin",a)}}tp_progressbar_settext(a,b,c){a.setText(`<span class="number">${b}</span><span class="label">${c}</span>`)}tp_fakenumber_countdown(){let a=this,b=a.Basic,c=a.container[0];c.insertAdjacentHTML("afterbegin",`<div class="tp-fake-number"></div>`);let d,e=a.setTime,f=c.querySelector(".tp-fake-number"),g=f.innerText,h=b.fakeinitminit,i=b.fakeend,j=b.fakerange,k=b.fakeinterval,l=b.fakeloop,m=b.fackeMassage,n=b.storetype;if(f.innerHTML=m.replace("{visible_counter}",`<span class="tp-fake-visiblecounter">${h}</span>`),+h>=+i){let b,c;"normal"==n?b=h:"cookie"==n&&(b=h,!localStorage.getItem(e)&&a.tp_fakereset_number(e,h)),d=setInterval(function(){let g=1<+j?Math.round(Math.random()*j):1;"normal"==n?c=h-=g:"cookie"==n&&(c=h=localStorage.getItem(e)-g,a.tp_fakereset_number(e,h)),+c>=+i?a.tp_fake_addnumber(m,c,f):(a.tp_fake_addnumber(m,i,f),l?"normal"==n?h=b:"cookie"==n&&a.tp_fakereset_number(e,b):clearInterval(d))},1e3*k)}if(+h<=+i){let b,c;"normal"==n?b=h:"cookie"==n&&(b=h),d=setInterval(function(){let g=1<+j?Math.round(Math.random()*j):1;"normal"==n?c=h=+h+ +g:"cookie"==n&&(c=h=+localStorage.getItem(e)+ +g,a.tp_fakereset_number(e,h)),+c<=+i?a.tp_fake_addnumber(m,c,f):(a.tp_fake_addnumber(m,i,f),l?"normal"==n?h=b:"cookie"==n&&a.tp_fakereset_number(e,b):clearInterval(d))},1e3*k)}}tp_fake_addnumber(a,b,c){let d=a.replace("{visible_counter}",`<span class="tp-fake-visiblecounter">${Math.floor(b)}</span>`);c.innerText="",d?c.insertAdjacentHTML("afterbegin",d):c.insertAdjacentHTML("afterbegin",Math.floor(b))}tp_fakereset_number(a,b){localStorage.setItem(a,b)}tp_flipdown_gettheme(){return"mix"==this.Basic.fliptheme?"dark":this.Basic.fliptheme?this.Basic.fliptheme:"dark"}tp_flipdown_themechange(){if("scarcity"==this.Basic.type||"normal"==this.Basic.type){let a=this.container[0].querySelectorAll(".flipdown");this.container[0]&&0<a.length&&a[0].id==this.FlipdownID&&setInterval(()=>{document.body.classList.toggle("light-theme"),a[0].classList.toggle("flipdown__theme-dark"),a[0].classList.toggle("flipdown__theme-light")},5e3)}}tp_style3_styleobj(){return{duration:200,color:"#000000",trailColor:"#ddd",strokeWidth:5,trailWidth:3}}tp_countdown_expiry(){let a=this,b=this.Basic;if(b.fakeloop&&"expiry"!=b.expirytype&&"scarcity"==b.type)if("style-1"==b.style){let a=Math.floor((this.looptime-new Date)/6e4),c=new Date().getTime()+6e4*b.scarminit;0>a&&(localStorage.removeItem(this.scarcityid),this.updatedtime=localStorage.setItem(this.scarcityid,+new Date(c)),this.tp_scarcity_style1())}else if("style-2"==b.style){let b=setInterval(function(){let c=Math.floor((a.looptime-new Date)/6e4);a.container[0].innerHTML="",0>c&&(localStorage.removeItem(a.scarcityid),clearInterval(b),a.tp_scarcity_style2())},1e3)}else if("style-3"==b.style){let b=setInterval(function(){let c=Math.floor((a.looptime-new Date)/6e4);a.container[0].innerHTML="",0>c&&(localStorage.removeItem(a.scarcityid),clearInterval(b),a.tp_scarcity_style3())},1e3)}if("expiry"==b.expirytype){let a=this,c=b?b.expiry:"",d=Math.floor((this.looptime-new Date)/6e4),e=new Date().getTime()+6e4*b.scarminit;if("redirect"==c){if("scarcity"!=b.type)"normal"==b.type&&(elementorFrontend.isEditMode()||(window.location.href=decodeURIComponent(b.expirymsg)));else if("style-1"==b.style)b.fakeloop?0>d?(localStorage.removeItem(this.scarcityid),this.updatedtime=localStorage.setItem(this.scarcityid,+new Date(e)),this.tp_scarcity_style1()):!elementorFrontend.isEditMode()&&(window.location.href=decodeURIComponent(b.expirymsg)):!elementorFrontend.isEditMode()&&(window.location.href=decodeURIComponent(b.expirymsg));else if("style-2"==b.style){if(b.fakeloop){let c=setInterval(function(){let d=Math.floor((a.looptime-new Date)/6e4);0>d?(localStorage.removeItem(a.scarcityid),clearInterval(c),a.tp_scarcity_style2()):!elementorFrontend.isEditMode()&&(window.location.href=decodeURIComponent(b.expirymsg))},1e3)}else elementorFrontend.isEditMode()||(window.location.href=decodeURIComponent(b.expirymsg));}else if("style-3"==b.style){let c=this.container[0].querySelectorAll(".tp-countdown .tp-countdown-counter");if(0<c.length&&c[0].remove(),b.fakeloop){let c=setInterval(function(){let d=Math.floor((a.looptime-new Date)/6e4);0>d?(localStorage.removeItem(a.scarcityid),clearInterval(c),a.tp_scarcity_style3()):!elementorFrontend.isEditMode()&&(window.location.href=decodeURIComponent(b.expirymsg))},1e3)}else elementorFrontend.isEditMode()||(window.location.href=decodeURIComponent(b.expirymsg))}}else if("showmsg"==c)this.container.forEach(function(c){if("scarcity"!=b.type)"normal"==b.type&&(c.innerHTML="",c.innerHTML=`<div class="tp-countdown-expiry">${b.expirymsg}</div>`);else if("style-1"==b.style){let f=c.querySelectorAll(".tp-countdown-expiry"),g=c.querySelectorAll(".pt_plus_countdown");0>d?(localStorage.removeItem(a.scarcityid),a.updatedtime=localStorage.setItem(a.scarcityid,+new Date(e)),0<f.length&&f[0].remove(),clearInterval(a.s1Interval),a.tp_show(g[0]),a.tp_scarcity_style1()):0==f.length&&(a.tp_hide(g[0]),c.insertAdjacentHTML("afterbegin",`<div class="tp-countdown-expiry">${b.expirymsg}</div>`))}else if("style-2"==b.style){if(b.fakeloop){let d=setInterval(function(){let e=Math.floor((a.looptime-new Date)/6e4);a.container[0].innerHTML="",0>e?(localStorage.removeItem(a.scarcityid),clearInterval(d),a.tp_scarcity_style2()):c.innerHTML=`<div class="tp-countdown-expiry">${b.expirymsg}</div>`},1e3)}else c.innerHTML="",c.innerHTML=`<div class="tp-countdown-expiry">${b.expirymsg}</div>`;}else if("style-3"==b.style)if(b.fakeloop){let d=setInterval(function(){let e=Math.floor((a.looptime-new Date)/6e4);0>e?(localStorage.removeItem(a.scarcityid),c.innerHTML="",clearInterval(d),a.tp_scarcity_style3()):(c.innerHTML="",c.innerHTML=`<div class="tp-countdown-expiry">${b.expirymsg}</div>`)},1e3)}else c.innerHTML="",c.innerHTML=`<div class="tp-countdown-expiry">${b.expirymsg}</div>`});else if("showtemp"==b.expiry){let c=this.container[0].querySelectorAll(".tp-expriy-template");if("scarcity"==b.type){if("style-1"==b.style){let b=this.container[0].querySelectorAll(".pt_plus_countdown");0>d?(localStorage.removeItem(a.scarcityid),a.updatedtime=localStorage.setItem(a.scarcityid,+new Date(e)),0<b.length&&b[0].classList.contains("tp-hide")&&b[0].classList.remove("tp-hide"),0<c.length&&c[0].classList.add("tp-hide"),clearInterval(a.s1Interval),a.tp_scarcity_style1()):(b[0].classList.add("tp-hide"),0<c.length&&c[0].classList.contains("tp-hide")&&c[0].classList.remove("tp-hide"),a.tp_resize_layout())}else if("style-2"==b.style){let d=this.container[0].querySelectorAll(".tp-scarcity-flipdown.flipdown");if(0<d.length&&(d[0].innerHTML=""),c[0].classList.contains("tp-hide")&&(c[0].classList.remove("tp-hide"),c[0].classList.add("tp-show")),b.fakeloop){let d=setInterval(function(){let e=Math.floor((a.looptime-new Date)/6e4);0>e?(localStorage.removeItem(a.scarcityid),c[0].classList.contains("tp-show")&&c[0].classList.remove("tp-show"),!c[0].classList.contains("tp-hide")&&c[0].classList.add("tp-hide"),clearInterval(d),a.tp_scarcity_style2()):self.innerHTML=`<div class="tp-countdown-expiry">${b.expirymsg}</div>`},1e3)}}else if("style-3"==b.style){let d=this.container[0].querySelectorAll(".tp-countdown-counter");if(0<d.length&&d[0].remove(),c[0].classList.contains("tp-hide")&&(c[0].classList.remove("tp-hide"),c[0].classList.add("tp-show"),this.tp_resize_layout()),b.fakeloop){let b=setInterval(function(){let d=Math.floor((a.looptime-new Date)/6e4);0>d&&(localStorage.removeItem(a.scarcityid),c[0].classList.contains("tp-show")&&c[0].classList.remove("tp-show"),!c[0].classList.contains("tp-hide")&&c[0].classList.add("tp-hide"),clearInterval(b),a.tp_scarcity_style3())},1e3)}}}else if("normal"==b.type){let a=this.container[0].querySelectorAll(".tp-expriy-template"),b=this.container[0].querySelectorAll(".tp-countdown-counter");0<b.length&&b[0].remove(),a[0].classList.contains("tp-hide")&&(a[0].classList.remove("tp-hide"),a[0].classList.add("tp-show"),this.tp_resize_layout())}}}}tp_resize_layout(){let a=document.querySelectorAll(".post-inner-loop");a.forEach(function(a){a.parentNode.classList.contains("list-isotope")?setTimeout(function(){b(a).isotope("reloadItems").isotope()},300):a.parentNode.classList.contains("list-isotope-metro")&&setTimeout(function(){theplus_setup_packery_portfolio("all")},300)})}tp_show(a){a.style.display="block"}tp_hide(a){a.style.display="none"}}};window.addEventListener("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/tp-countdown.default",a)})})(jQuery);